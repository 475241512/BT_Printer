合杰热敏小票打印机终端（U系列、B系列）升级方式说明：

升级方式1：（此方式在开发阶段实现了，出货阶段更换了升级方式）

1.终端在开机之前先将USB数据线插入电脑主机，然后按住进纸键，再开机；

2.此时打印机终端的蓝色灯会闪烁,带屏幕的版本会在屏幕上显示“UDisk Mode”的字样，电脑主机应该会提示发现新的USB设备，等待系统安装驱动；

3.驱动安装成功之后，会在系统的资源管理界面看到一个容量大约为2M的类似U盘的存储设备，将升级固件包里面的update.bin文件拷贝到终端盘符对应盘符的根目录下;

4.拷贝完成后，安全退出u盘模式，然后将打印机终端关机再开机，此时蓝灯会快速闪烁，直到蓝灯熄灭表示升级成功，带屏幕的版本会在屏幕上显示升级状态以及升级结果，然后进入正常的打印机工作状态。

注：以上升级方式是利用U盘模式进行的升级方式。




后面为了兼容别的打印机的升级方式（其实是为了省空间，可以将主控的型号down下来，costdown！！！）采取了利用PC工具进行升级的方式.

由于别人的升级工具是采取对Intel Hex格式的文件进行升级的，所以对升级文件的格式有限定，因此我将我们的经过加密之后的BIN文件，利用File_Convert.exe这个工具转换为类似Intel HEX格式的，从而也可以将我的BIN文件下载到打印机内部的SPI Flash。然后重启机器，利用机器的BootLoader将下载下来的BIN文件重组并解密，然后完成应用的升级。


1. 打开机器电源，然后利用机器自带的USB数据线插入运行Windows系统的的PC主机；
2. 安装打印机的USB驱动；
3. 在成功安装打印机的USB驱动之后，运行升级程序Upgrade.exe，首先可以获取一下本机的版本号，可以比较一下本机当前的版本是不是比你要升级的版本低，如果是的可以进行升级，否则不建议升级，因为旧版本可能有未解决的BUG存在；
4. 点击载入文件后面的“打开”按钮，选择要升级的文件；然后点击“更新”按钮，等待进度条走完，即表示升级文件已经全部下载到打印机，工具会提示断电重启机器；
5  重启机器后，机器会进入升级模式，等待机器提示升级完成即可。